#Maintainer: onefire <onefire.myself@gmail.com>
pkgname=gsl-intel
_pkg=gsl
pkgver=1.15
pkgrel=4
pkgdesc="The GNU Scientific Library (GSL). Built with the Intel compilers"
url="http://www.gnu.org/software/gsl/gsl.html"
source=("ftp://ftp.gnu.org/gnu/$_pkg/$_pkg-$pkgver.tar.gz")
install=gsl.install
license=('GPL')
arch=('i686' 'x86_64')
depends=('glibc' 'bash')
conflicts=('gsl')
provides=('gsl')
options=('!libtool')
sha512sums=('dcea557bcd34d4ee6d2c52741c2f95702e5e6110a99f033b412489b1930d21a40ead29392f754656375801d706df01199878263e856ca3081f9a514dc3299185')

build() {
  unset LDFLAGS
  cd ${srcdir}/${_pkg}-${pkgver}
  ./configure --prefix=/usr FC=ifort CC=icc CFLAGS="-O3 -m64 -openmp -fp-model strict -fomit-frame-pointer -xhost"  
  make -j 16
}

check() {
  cd ${srcdir}/${_pkg}-${pkgver}
  make -j 16 check
}  	

package() {
  cd ${srcdir}/${_pkg}-${pkgver}
  make DESTDIR=${pkgdir} install
}
