# Maintainer: onefire <onefire.myself@gmail.com>
pkgname=python-matplotlib-intel
_pkgname=matplotlib
pkgver=1.2.1
pkgrel=2
pkgdesc="Python 2D plotting library. Built with the Intel compiler and compatible with Python 3."
arch=(x86_64)
url="http://matplotlib.org/"
depends=('python-numpy-intel' 'python-dateutil' 'python-pytz' 'freetype2' 'libpng')
makedepends=
conflicts=('python-matplotlib-git')
provides=('python-matplotlib')
license=('custom')
options=(!strip)
groups=('custom' 'python-intel')

sha512sums=('497f91725eaf361bdb9bdf38db2bff5068a77038f1536df193db64c9b887e3b0d967486daee722eda6e2c4e60f034eee030673e53d07bf0db0f3f7c0ef3bd208')

source=("https://downloads.sourceforge.net/project/${_pkgname}/${_pkgname}/${_pkgname}-${pkgver}/${_pkgname}-${pkgver}.tar.gz")

build() {
  cd ${srcdir}/${_pkgname}-${pkgver}
   sed '/import os/iimport numpy.distutils.intelccompiler' setup.py > junk && mv junk setup.py
  python setup.py config --compiler=intelem build --compiler=intelem
}

package() {
  cd ${srcdir}/${_pkgname}-${pkgver}
   python setup.py install --prefix=/usr --root=${pkgdir}
}


